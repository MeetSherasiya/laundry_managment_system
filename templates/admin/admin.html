{% extends "admin/adminbase.html" %}
{% load humanize %}

{% block bootscript %}

  <!-- Add Bootstrap CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">

  <!-- Add jQuery and Bootstrap JS -->
  <script src="https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.10.2/dist/umd/popper.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.min.js"></script>

  <style>
        @media (min-width: 950px) {
            .content-wrapper .request-model {
                display: block;
            }
            .content-wrapper .request-table-model {
                display: none;
            }
        }

        @media (max-width: 949px) {
            .content-wrapper .request-model {
                display: none;
            }
            .content-wrapper .request-table-model {
                display: block;
            }
        }
    </style>

{% endblock bootscript %}

{% block body %}

<div class="content-wrapper">
<div class="row">
        <div class="col-12 col-xl-8 mb-3">
        <h3 class="font-weight-bold">Welcome {{user|capfirst}}</h3>
        <h6 class="font-weight-normal mb-0">All systems are running smoothly</h6>
        </div>
</div>
<div class="row request-model">
    <div class="col-md grid-margin transparent">
    <div class="row">
        <div class="col-md mb-4 stretch-card transparent">
        <div class="card card-dark-blue">
            <div class="card-body">
            <p class="mb-3">Todayâ€™s Request</p>
            <p class="fs-30 mb-2">{{today_request|intcomma}}</p>
            </div>
        </div>
        </div>
        <div class="col-md mb-4 stretch-card transparent">
        <div class="card card-tale">
            <div class="card-body">
            <p class="mb-3">Today's Accept</p>
            <p class="fs-30 mb-2">{{today_accept|intcomma}}</p>
            </div>
        </div>
        </div>
        <div class="col-md mb-4 stretch-card transparent">
        <div class="card card-light-blue">
            <div class="card-body">
            <p class="mb-3">Today's Inprogress</p>
            <p class="fs-30 mb-2">{{today_inprogress|intcomma}}</p>
            </div>
        </div>
        </div>
        <div class="col-md mb-4 stretch-card transparent">
        <div class="card" style="background:#57cc99; color:white;">
            <div class="card-body">
            <p class="mb-3">Today's Finish</p>
            <p class="fs-30 mb-2">{{today_finish|intcomma}}</p>
            </div>
        </div>
        </div>
        <div class="col-md mb-4 stretch-card transparent">
        <div class="card card-light-danger">
            <div class="card-body">
            <p class="mb-3">Today's Cancle</p>
            <p class="fs-30 mb-2">{{today_cancle|intcomma}}</p>
            </div>
        </div>
        </div>
    </div>
    <div class="row">
        <div class="col-md mb-4 stretch-card transparent">
        <div class="card card-dark-blue">
            <div class="card-body">
            <p class="mb-3">Total Request</p>
            <p class="fs-30 mb-2">{{total_request|intcomma}}</p>
            </div>
        </div>
        </div>
        <div class="col-md mb-4 stretch-card transparent">
        <div class="card card-tale">
            <div class="card-body">
            <p class="mb-3">Total Accept</p>
            <p class="fs-30 mb-2">{{total_accept|intcomma}}</p>
            </div>
        </div>
        </div>
        <div class="col-md mb-4 stretch-card transparent">
        <div class="card card-light-blue">
            <div class="card-body">
            <p class="mb-3">Total Inprogress</p>
            <p class="fs-30 mb-2">{{total_inprogress|intcomma}}</p>
            </div>
        </div>
        </div>
        <div class="col-md mb-4 stretch-card transparent">
        <div class="card" style="background:#57cc99; color:white;">
            <div class="card-body">
            <p class="mb-3">Total Finish</p>
            <p class="fs-30 mb-2">{{total_finish|intcomma}}</p>
            </div>
        </div>
        </div>
        <div class="col-md mb-4 stretch-card transparent">
        <div class="card card-light-danger">
            <div class="card-body">
            <p class="mb-3">Total Cancle</p>
            <p class="fs-30 mb-2">{{total_cancle|intcomma}}</p>
            </div>
        </div>
        </div>
    </div>
    <h3 class="mt-2">Total Amount</h3>
    <div class="row">
        <div class="col-md mb-4 stretch-card transparent">
        <div class="card" style="background:#ef767a; color:white;">
            <div class="card-body">
            <p class="mb-3">Unpaid Amount</p>
            <p class="fs-30 mb-2">{{total_unpaid|intcomma}}</p>
            </div>
        </div>
        </div>
        <div class="col-md mb-4 stretch-card transparent">
        <div class="card" style="background:#456990; color:white;">
            <div class="card-body">
            <p class="mb-3">Cash Amount</p>
            <p class="fs-30 mb-2">{{total_cash|intcomma}}</p>
            </div>
        </div>
        </div>
        <div class="col-md mb-4 stretch-card transparent">
        <div class="card" style="background:#49beaa; color:white;">
            <div class="card-body">
            <p class="mb-3">Online Amount</p>
            <p class="fs-30 mb-2">{{total_online|intcomma}}</p>
            </div>
        </div>
        </div>
    </div>
    </div>
</div>

<div class="row request-table-model">
    <div class="col-md-12 grid-margin stretch-card">
    <div class="card">
        <div class="card-body">
        <p class="card-title mb-0 d-flex justify-content-between"><span>Request Table</span></p>

        <div class="table-responsive">
            <table class="table table-hover mt-2">
            <tbody>
                <tr>
                <td style="background: #4747A1; color: #fff;">Today's Request</td>
                <td style="background: #4747A1;  color: #fff;">{{today_request|intcomma}}</td>
                <td style="background: #4747A1; color: #fff;">Total Request</td>
                <td style="background: #4747A1;  color: #fff;">{{total_request|intcomma}}</td>
                </tr>
                <tr>
                <td style="background: #7DA0FA; color: #fff;">Today's Accept</td>
                <td style="background: #7DA0FA;  color: #fff;">{{today_accept|intcomma}}</td>
                <td style="background: #7DA0FA; color: #fff;">Total Accept</td>
                <td style="background: #7DA0FA;  color: #fff;">{{total_accept|intcomma}}</td>
                </tr>
                <tr>
                <td style="background: #7978E9; color: #fff;">Today's Inprogress</td>
                <td style="background: #7978E9;  color: #fff;">{{today_inprogress|intcomma}}</td>
                <td style="background: #7978E9; color: #fff;">Total Inprogress</td>
                <td style="background: #7978E9;  color: #fff;">{{total_inprogress|intcomma}}</td>
                </tr>
                <tr>
                <td style="background: #57cc99; color: #fff;">Today's Finish</td>
                <td style="background: #57cc99;  color: #fff;">{{today_finish|intcomma}}</td>
                <td style="background: #57cc99; color: #fff;">Total Finish</td>
                <td style="background: #57cc99;  color: #fff;">{{total_finish|intcomma}}</td>
                </tr>
                <tr>
                <td style="background: #F3797E; color: #fff;">Today's Cancle</td>
                <td style="background: #F3797E;  color: #fff;">{{today_cancle|intcomma}}</td>
                <td style="background: #F3797E; color: #fff;">Total Cancle</td>
                <td style="background: #F3797E;  color: #fff;">{{total_cancle|intcomma}}</td>
                </tr>
            </tbody>
            </table>
        </div>
        </div>
    </div>
    </div>
    <div class="col-md-12 grid-margin stretch-card">
    <div class="card">
        <div class="card-body">
        <p class="card-title mb-0 d-flex justify-content-between"><span>Total Amount</span></p>

        <div class="table-responsive">
            <table class="table table-hover mt-2">
            <tbody>
                <tr>
                <td style="background: #ef767a; color: #fff;">Unpaid Amount</td>
                <td style="background: #ef767a;  color: #fff;">{{total_unpaid|intcomma}}</td>
                </tr>
                <tr>
                <td style="background: #456990; color: #fff;">Cash Amount</td>
                <td style="background: #456990;  color: #fff;">{{total_cash|intcomma}}</td>
                </tr>
                <tr>
                <td style="background: #49beaa; color: #fff;">Online Amount</td>
                <td style="background: #49beaa;  color: #fff;">{{total_online|intcomma}}</td>
                </tr>
            </tbody>
            </table>
        </div>
        </div>
    </div>
    </div>
</div>

<div class="row">
    <div class="col-md-12 grid-margin stretch-card">
    <div class="card">
        <div class="card-body">
        <p class="card-title mb-0 d-flex justify-content-between"><span>Price Details</span><a href="#" class="text-dark" data-bs-toggle="modal" data-bs-target="#editModal">
            <i class="ti-marker-alt mr-1"></i>Edit
          </a></p>

          <!--Edit Modal -->
            <div class="modal fade" id="editModal" tabindex="-1" role="dialog" aria-labelledby="editModalLabel" aria-hidden="true">
                <div class="modal-dialog" role="document">
                <div class="modal-content">
                    <div class="modal-header">
                    <h5 class="modal-title" id="editModalLabel">Price Edit</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                    </div>
                    <div class="modal-body">
                    <!-- Add your edit form or content here -->
                    <!-- Example: -->
                    <form method="post" action="{% url 'priceedit' %}">
                        {% csrf_token %}
                        <div class="form-group-sm mb-2">
                        <label for="editField">Top Wear Price</label>
                        <input type="text" class="form-control" id="topwearprice" name="topwearprice" placeholder="Enter value" value="{{price.topwear}}">
                        </div>
                        <div class="form-group-sm mb-2">
                        <label for="editField">Bottom Wear Price</label>
                        <input type="text" class="form-control" id="bottomwearprice" name="bottomwearprice" placeholder="Enter value" value="{{price.bottomwear}}">
                        </div>
                        <div class="form-group-sm mb-2">
                        <label for="editField">Woolen Cloth Price</label>
                        <input type="text" class="form-control" id="woolenwearprice" name="woolenwearprice" placeholder="Enter value" value="{{price.woolenwear}}">
                        </div>
                        <!-- Add more form fields as needed -->
                    </div>
                    <div class="modal-footer">
                        <button type="submit" class="btn btn-sm btn-primary">Update</button>
                        <button type="button" class="btn btn-sm btn-light" data-bs-dismiss="modal">Close</button>
                    </div>
                </form>
                </div>
                </div>
            </div>


        <div class="table-responsive">
            <table class="table table-hover table-bordered mt-2">
            <thead>
                <tr>
                <th>Product</th>
                <th>Price</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                <td>Top Wear</td>
                <td class="font-weight-bold">{{price.topwear}} Rs.</td>
                </tr>
                <tr>
                <td>Bootom Wear</td>
                <td class="font-weight-bold">{{price.bottomwear}} Rs.</td>
                </tr>
                <tr>
                <td>Woolen Cloth Laundry Price</td>
                <td class="font-weight-bold">{{price.woolenwear}} Rs.</td>
                </tr>
                <tr>
                <td>Other Price</td>
                <td class="font-weight-bold">Other Price Add By Admin</td>
                </tr>
            </tbody>
            </table>
        </div>
        </div>
    </div>
    </div>
</div>

{% endblock body %}